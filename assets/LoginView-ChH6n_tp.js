import{S as d}from"./sweetalert2.all-2uCbP9v4.js";import{_ as u,r as _,o as p,c as m,b as g,a as s,e as a,h as r,F as h}from"./index-IZRPLD-R.js";var f={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"vuejs2024",BASE_URL:"/vite_week6_20240223/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:b}=f,v={data(){return{login:{username:"",password:""},isLoading:!0,color:"#993300"}},methods:{loginAdmin(){if(this.login.username===""||this.login.password===""){alert("不可以空白");return}this.isLoading=!0,this.$http.post(`${b}/admin/signin`,this.login).then(t=>{const{token:e,expired:l}=t.data;document.cookie=`zack0111=${e}; expires=${new Date(l)};`,this.$router.push("/admin/items")}).catch(()=>{d.fire({icon:"error",title:"登入失敗",showConfirmButton:!0})})},reset(){this.login.username="",this.login.password=""},backHomePages(){this.$router.push("/")}},mounted(){setTimeout(()=>{this.isLoading=!1},1e3);const t=document.querySelector(".eyeIcon"),e=document.querySelector(".pwd");t.addEventListener("click",()=>{t.classList.toggle("bi-eye"),t.classList.toggle("bi-eye-slash")?e.type="password":e.type="text"})}},w={class:"wrap"},k={class:"login_wrap"},y={class:"message"},x={class:"login_form"},L=s("div",{class:"form_text"},"admin",-1),V={action:"#"},E={class:"form_inputBox"},B=s("span",{class:"icon"},[s("i",{class:"bi bi-person-fill"})],-1),C=s("span",{class:"ok"},"格式正確",-1),I=s("label",{class:"form_label"},"Email",-1),S={class:"form_inputBox"},P=s("span",{class:"icon"},[s("i",{class:"bi bi-lock-fill"})],-1),T=s("span",{class:"eye_Icon"},[s("i",{class:"bi bi-eye-slash eyeIcon"})],-1),A=s("label",{class:"form_label"},"Password",-1),D={class:"btnWrap"};function R(t,e,l,U,i,n){const c=_("VueLoading");return p(),m(h,null,[g(c,{active:i.isLoading,color:i.color},null,8,["active","color"]),s("div",w,[s("div",k,[s("span",y,[s("i",{class:"bi bi-house-fill",onClick:e[0]||(e[0]=(...o)=>n.backHomePages&&n.backHomePages(...o))})]),s("div",x,[L,s("form",V,[s("div",E,[B,a(s("input",{type:"email",class:"form_input",placeholder:" ",required:"",maxlength:"30","onUpdate:modelValue":e[1]||(e[1]=o=>i.login.username=o)},null,512),[[r,i.login.username]]),C,I]),s("div",S,[P,a(s("input",{type:"password",class:"form_input pwd",placeholder:" ",required:"",maxlength:"30","onUpdate:modelValue":e[2]||(e[2]=o=>i.login.password=o)},null,512),[[r,i.login.password]]),T,A]),s("div",D,[s("button",{class:"btnClick",type:"button",onClick:e[3]||(e[3]=(...o)=>n.reset&&n.reset(...o))}," reset "),s("button",{class:"btnClick",type:"button",onClick:e[4]||(e[4]=(...o)=>n.loginAdmin&&n.loginAdmin(...o))}," login ")])])])])])],64)}const F=u(v,[["render",R]]);export{F as default};
